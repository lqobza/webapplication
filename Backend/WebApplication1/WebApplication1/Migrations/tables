CREATE TABLE Theme (
	id int identity(1,1) primary key,
	name nvarchar(255)
);

CREATE TABLE Brand (
	id int identity(1,1) primary key,
	name nvarchar(255)
);

CREATE TABLE Category (
	id int identity(1,1) primary key,
	name nvarchar(255)
);


CREATE TABLE Merch (
    id int identity(1,1) primary key,
    category int foreign key references Category(id) NOT NULL,
	name nvarchar(255),
	instock int,
	price int,
	description nvarchar(255),
	size nvarchar(255),
	brand int foreign key references Brand(id) NOT NULL
);


CREATE TABLE MerchTheme (
    merch_id int foreign key references Merch(id) NOT NULL,
    theme_id int foreign key references Theme(id) NOT NULL,
    PRIMARY KEY (merchid, themeid)
);

CREATE TABLE Ratings (
    id int identity(1,1) primary key,
    merch_id int foreign key references Merch(id) NOT NULL,
    rating int check (rating >= 1 AND rating <= 5) NOT NULL,
    description nvarchar(255),
    created_at datetime default getdate()
);